<form [formGroup]="form" (ngSubmit)="updatePerson()">
  <button type="submit" [disabled]="!form.valid">OK</button>
  <button type="button" (click)="updatePerson.emit(undefined)">Cancel</button>

  <div class="form-group">
    <label for="name">Name</label>
    <input type="text"
           class="form-control"
           formControlName="name"
           placeholder="Enter name">
  </div>

  <div class="form-group">
    <label for="dateCommenced">Date Commenced</label>
    <input type="date"
           class="form-control"
           formControlName="dateCommenced"
           placeholder="Date of commencement">
  </div>

  <div class="form-group">
    <label for="dateDOB">Date of Birth</label>
    <input type="date"
           class="form-control"
           formControlName="dateDOB"
           placeholder="Date of birth">
  </div>

  <div *ngIf="addingNewPerson" class="form-group">
    <app-assignment-detail
      [addingNewPerson]="true"
      [addingNewAssignment]="true">
    </app-assignment-detail>
  </div>

  <div *ngIf="!addingNewPerson" class="form-group">
    Current Position: {{person?.currentPosition?.title}}<br/>
    <button type="button" (click)="addAssignment()">New Assignment</button>
    <app-assignment-list>
    </app-assignment-list>

    <app-assignment-detail *ngIf="_addingAssignment || _selectAssignment"
      [assignment]="(selectedAssignment$ | async)"
      (updateAssignment)="onUpdateAssignment(assignment)">
    </app-assignment-detail>
  </div>

</form>
