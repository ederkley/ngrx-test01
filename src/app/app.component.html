<div *ngIf="!(hasLoaded$ | async)">
    Loading...
</div>

<app-staff-list-filter 
    (updateFilter)="updateFilter($event)" 
    [defaultFilter]="defaultFilter">
</app-staff-list-filter>

Total: {{(peopleView$ | async)?.total}} of {{(people$ | async)?.length}}
<button (click)="addNewPerson()">Add new</button>
<button (click)="deleteLastPerson()">Delete</button>

<app-person-list *ngIf="(hasLoaded$ | async)"
    [people]="(peopleView$ | async)?.people"
    [filter]="filter"
    [selectedPerson]="(selectedPerson$ | async)"
    (selectPerson)="selectPerson($event)">
</app-person-list>

<app-person-detail *ngIf="_selectedPerson || _addingPerson"    
    [person]="(selectedPerson$ | async)"
    [addingNew]="_addingPerson"
    (updatePerson)="updatePerson($event)">
</app-person-detail>
{{errorMessage}}
