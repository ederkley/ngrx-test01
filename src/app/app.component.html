<div *ngIf="!(hasLoaded$ | async)">
    Loading...
</div>

<app-staff-list-filter 
    (updateFilter)="updateFilter($event)" 
    [defaultFilter]="defaultFilter">
</app-staff-list-filter>

Total: {{(staffView$ | async)?.total}} of {{(people$ | async)?.length}}
<button (click)="addNewPerson()">Add new</button>

<app-person-list *ngIf="(hasLoaded$ | async)"
    [staff]="(staffView$ | async)?.staff"
    [filter]="filter">
</app-person-list>

<app-person-detail *ngIf="_selectedPerson || _addingPerson"
    [person]="(selectedPerson$ | async)"
    [addingNewPerson]="_addingPerson"
    (updatePerson)="updatePerson($event)">
</app-person-detail>
{{errorMessage}}
